<div class="container">
  <!-- Slider -->
  <div class="row-fluid">
    <div class="span12" id="slider">
      <!-- Top part of the slider -->
      <div class="row-fluid">
        <div class="span8" id="carousel-bounding-box">
          <div id="myCarousel" class="carousel slide">
            <!-- Carousel items -->
            <div class="carousel-inner">
              <%
                 @ad_categories = AdCategory.all(:select => :id).collect(&:id)
                 @loopvar = 0
                 @ad_categories.each do |x|
                   @ad = Ad.find_all_by_ad_category_id(x).first
                   unless @ad.nil?
                     #puts "ad ==> #{@ad.id}"
              %>
                      <div data-slide-number="<%= @loopvar %>" class="item <%= @loopvar %>
                        <% if (@loopvar == 1)  %>
                            active
                        <% end %>">
                          <% if @ad.image.to_s != ''  %>
                              <%=image_tag(@ad.image.to_s, :height => '300px', :width => '450px')%>
                          <% else %>
                              <%=image_tag("/images/dummy.jpeg", :height => '257') %>
                          <% end %>
                      </div>
                  <% end
                     @loopvar+= 1
                     end %>
            </div>
            <!-- Carousel nav -->
            <a class="carousel-control left" href="#myCarousel" data-slide="prev">‹</a>
            <a class="carousel-control right" href="#myCarousel" data-slide="next">›</a>
          </div>
        </div>
        <div class="span4" id="carousel-text"></div>

        <div style="display: none;" id="slide-content">
          <%
             @ad_categories = AdCategory.all(:select => :id).collect(&:id)
             @loopvar = 0
             @ad_categories.each do |x|
               @ad = Ad.find_all_by_ad_category_id(x).first
               unless @ad.nil?
                 #puts "ad ==> #{@ad.id}"
          %>
                  <div id="slide-content-<%=@loopvar%>">
                    <%= render :partial => "ads/ad_slider_header" %>
                    <%= render :partial => "ads/ad_slider_footer" %>
                    <p class="sub-text">October 24 2012 - <a href="#">Read more</a></p>
                  </div>
              <% end
                 @loopvar+= 1
                 end %>
        </div>
      </div>
    </div>
  </div>
  <!--/Slider-->
  <% @items_per_list = 6 %>
  <div class="container">
    <div class="span12">
      <div class="well">
        <div id="myCarouselT" class="carousel slide">
          <!-- Carousel items -->
          <div class="carousel-inner">
            <%
               @ad_categories = AdCategory.all(:select => :id).collect(&:id)
               @xloopvar = 0
               @ad_categories.each do |x|
                 @ad = Ad.find_all_by_ad_category_id(x).first
                 unless @ad.nil?
                   @xloopvar +=1
                   puts "xloopvar ==> #{@xloopvar}"
            %>
                    <% if ((@xloopvar -1) %@items_per_list )==0 %>
                        <div class="item <% if (@xloopvar == 1)  %>
                            active
                            <% end %>">
                          <div class="row-fluid">
                    <% end %>
                    <div class="span<%=12/@items_per_list%>">
                      <div class="image-caption-wrapper" style="height:100%;width:120px; ">
                        <a href="#0" class="thumbnail" id="carousel-selector-<%=@xloopvar%>">
                          <% if @ad.image.to_s != ''  %>
                              <%=image_tag(@ad.image.to_s, :height => '100px', :width => '120px')%>
                          <% else %>
                              <%=image_tag("/images/dummy.jpeg", :height => '250px') %>
                          <% end %>
                        </a>
                        <span><%=@ad.title%></span>
                      </div>
                    </div>
                    <% if (@xloopvar%@items_per_list !=0)
                         next
                       else %>
                        </div><!--/row-fluid-->
                        </div><!--/item-->
                    <%end
                      end
                      end %>
            <% if ((@xloopvar)%@items_per_list )!=0 %>
                </div><!--/row-fluid-->
                </div><!--/item-->
            <% end %>
            </div><!--/carousel-inner-->

      <a class="left carousel-control" href="#myCarouselT" data-slide="prev">‹</a>
      <a class="right carousel-control" href="#myCarouselT" data-slide="next">›</a>
    </div><!--/myCarousel-->

  </div><!--/well-->
</div>
</div>
